(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{144:function(e,t,n){e.exports=n(253)},253:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(16),c=n.n(o),i=n(293),u=n(294),l=n(302),s=n(128),m=n.n(s),f=n(130),p=n(4),d=n(295),b=n(289),h=n(299),E=n(7),g=Object(E.a)({root:{"&$checked":{color:"#2196F3"}},checked:{}})((function(e){return r.a.createElement(h.a,Object.assign({color:"default"},e))})),v=function(e){var t=e.input,n=e.meta,a=Object(p.a)(e,["input","meta"]);return r.a.createElement(d.a,Object.assign({},t,a,{error:n.touched&&n.error&&!0}))},O=function(e){var t=e.input,n=(e.meta,Object(p.a)(e,["input","meta"]));return r.a.createElement(b.a,{control:r.a.createElement(g,Object.assign({},t,n,{value:"remember"})),label:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"})},w=n(298),j=n(297),k=function(e){if(!e)return"Field is required"},S=n(290),x=n(292),C=n(291),y=Object(j.a)({form:"signin"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:e.classes.form,noValidate:!0},r.a.createElement(w.a,{variant:"outlined",margin:"normal",fullWidth:!0,name:"email",component:v,id:"email",label:"\u041f\u043e\u0447\u0442\u0430*",autoComplete:"email",validate:k}),r.a.createElement(w.a,{variant:"outlined",margin:"normal",type:"password",fullWidth:!0,name:"password",component:v,label:"\u041f\u0430\u0440\u043e\u043b\u044c*",id:"password",autoComplete:"current-password",validate:k}),r.a.createElement(w.a,{component:O,name:"rememberMe"}),r.a.createElement(S.a,{type:"submit",fullWidth:!0,variant:"contained",className:e.classes.submit},"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement(C.a,{container:!0},r.a.createElement(C.a,{item:!0,xs:!0},r.a.createElement(x.a,{href:"#",variant:"body2"},"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?")),r.a.createElement(C.a,{item:!0},r.a.createElement(x.a,{href:"#",variant:"body2"},"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430? \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"))))})),A=n(27),I=n(61),T={token:localStorage.getItem("token"),isAuth:!1},U=function(e){return{type:"LOGIN_SUCCES",token:e}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCES":return localStorage.setItem("token",t.token.jwt),Object(I.a)({},e,{isAuth:!0,token:t.token.jwt});case"LOGOUT_SUCCES":return localStorage.removeItem("token"),Object(I.a)({},e,{token:null,isAuth:!1});case"SET_IS_AUTH":return Object(I.a)({},e,{isAuth:"86fasfgfsogHGad"===e.token});default:return Object(I.a)({},e)}},G=n(42),F=n(126),H=Object(F.a)((function(e){return{paper:{marginTop:e.spacing(25),display:"flex",flexDirection:"column",alignItems:"center","& a":{color:"#2196F3"}},avatar:{margin:e.spacing(1),backgroundColor:"#E10050"},form:{width:"100%",marginTop:e.spacing(1),"& label.Mui-focused":{color:"#2196F3"},"& label.Mui-error":{color:"#E10050"},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"#2196F3"},"&.Mui-error fieldset":{borderColor:"#E10050",borderWidth:2}},"& .Mui-error":{"&.Mui-focused fieldset":{borderColor:"#E10050 !important"}}},submit:{margin:e.spacing(3,0,2),backgroundColor:"#2196F3",color:"#fff","&:hover":{background:"#2F80ED"}}}})),L=Object(A.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(){return{type:"LOGIN"}}})((function(e){var t=H();return e.isAuth?r.a.createElement(G.a,{to:"/signout"}):r.a.createElement("div",{className:t.paper},r.a.createElement(l.a,{className:t.avatar},r.a.createElement(m.a,null)),r.a.createElement(f.a,{component:"h1",variant:"h5"},"\u0412\u0445\u043e\u0434 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement(y,{onSubmit:function(){e.login()},classes:t}))})),M=n(296),N=function(){return r.a.createElement(f.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(x.a,{color:"inherit",href:"https://material-ui.com/"},"\u0412\u0430\u0448 \u0441\u0430\u0439\u0442")," ",(new Date).getFullYear(),".")},W=Object(A.b)((function(e){return{isAuth:e.auth.isAuth}}),{logout:function(){return{type:"LOGOUT"}}})((function(e){return e.isAuth?r.a.createElement(M.a,{component:"div",align:"center",mt:35},r.a.createElement(S.a,{onClick:function(t){return function(t){t.preventDefault(),e.logout()}(t)},fullWidth:!0,variant:"contained",color:"secondary"},"Signout")):r.a.createElement(G.a,{to:"/"})})),D=Object(A.b)(null,{checkIsAuth:function(){return{type:"CHECK_IS_AUTH"}}})((function(e){var t=e.checkIsAuth;return Object(a.useEffect)((function(){t()}),[t]),r.a.createElement(i.a,{component:"main",maxWidth:"xs"},r.a.createElement(u.a,null),r.a.createElement(G.b,{exact:!0,path:"/",render:function(){return r.a.createElement(L,null)}}),r.a.createElement(G.b,{path:"/signout",render:function(){return r.a.createElement(W,null)}}),r.a.createElement(M.a,{mt:8},r.a.createElement(N,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=n(17),J=n(300),K=n(129),$=n(22),q=n.n($),V=n(35),Y=q.a.mark(P),z=q.a.mark(Q);function P(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.c)("CHECK_IS_AUTH",Q);case 2:case"end":return e.stop()}}),Y)}function Q(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.b)({type:"SET_IS_AUTH"});case 2:case"end":return e.stop()}}),z)}var R=q.a.mark(ee),X=q.a.mark(te),Z=function(){return{jwt:"86fasfgfsogHGad"}};function ee(){var e;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(V.a)(Z);case 2:return e=t.sent,t.next=5,Object(V.b)(U(e));case 5:case"end":return t.stop()}}),R)}function te(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.c)("LOGIN",ee);case 2:case"end":return e.stop()}}),X)}var ne=q.a.mark(re),ae=q.a.mark(oe);function re(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.b)({type:"LOGOUT_SUCCES"});case 2:case"end":return e.stop()}}),ne)}function oe(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.c)("LOGOUT",re);case 2:case"end":return e.stop()}}),ae)}var ce=Object(B.c)({auth:_,form:J.a}),ie=Object(K.a)(),ue=Object(B.e)(ce,Object(B.a)(ie));ie.run(P),ie.run(te),ie.run(oe),window.store=ue;var le=ue,se=n(58);c.a.render(r.a.createElement(se.a,null,r.a.createElement(A.a,{store:le},r.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[144,1,2]]]);
//# sourceMappingURL=main.ffb1eb5d.chunk.js.map